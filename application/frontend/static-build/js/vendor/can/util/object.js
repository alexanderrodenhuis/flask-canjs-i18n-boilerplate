define(["can/util/library"],function(t){var e=t.isArray,n=function(t){var e=0;for(var n in t)e++;return e};t.Object={};var r=t.Object.same=function(n,o,s,a,u,l){var c,f=typeof n,d=e(n),p=typeof s;if(("string"==p||null===s)&&(s=i[s],p="function"),"function"==p)return s(n,o,a,u);if(s=s||{},n instanceof Date)return n===o;if(-1===l)return"object"===f||n===o;if(f!==typeof o||d!==e(o))return!1;if(n===o)return!0;if(d){if(n.length!==o.length)return!1;for(var h=0;h<n.length;h++)if(c=void 0===s[h]?s["*"]:s[h],!r(n[h],o[h],n,o,c))return!1;return!0}if("object"===f||"function"===f){var m=t.extend({},o);for(var g in n){if(c=void 0===s[g]?s["*"]:s[g],!r(n[g],o[g],c,n,o,l===!1?-1:void 0))return!1;delete m[g]}for(g in m)if(void 0===s[g]||!r(void 0,o[g],s[g],n,o,l===!1?-1:void 0))return!1;return!0}return!1};t.Object.subsets=function(e,r,i){var o=r.length,s=[];n(e);for(var a=0;o>a;a++){var u=r[a];t.Object.subset(e,u,i)&&s.push(u)}return s},t.Object.subset=function(t,e,n){var n=n||{};for(var i in e)if(!r(t[i],e[i],n[i],t,e))return!1;return!0};var i={"null":function(){return!0},i:function(t,e){return(""+t).toLowerCase()==(""+e).toLowerCase()}};return t.Object});