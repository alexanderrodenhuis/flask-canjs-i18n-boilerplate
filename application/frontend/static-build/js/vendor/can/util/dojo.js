/*!
 * CanJS - 2.0.5
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Tue, 04 Feb 2014 22:36:26 GMT
 * Licensed MIT
 * Includes: CanJS default build
 * Download from: http://canjs.us/
 */

define(["can/util/can","dojo","can/util/event","can/util/fragment","can/util/array/each","can/util/object/isplain","can/util/deferred","can/util/hashchange","can/util/inserted"],function(t){function e(t,e){var i=t[l],r=i&&s[i];return void 0===e?r||n(t):r&&r[e]}function n(t,e,n){var i=t[l]||(t[l]=++u),r=s[i]||(s[i]={});return void 0!==e&&(r[e]=n),r}define("plugd/trigger",["dojo"],function(t){var e,n=t,i=n.isFunction,r=/mouse(enter|leave)/,o=function(t,e){return"mouse"+("enter"===e?"over":"out")},a=n._mixin;return e=n.doc.createEvent?function(t,e,i){var s=n.doc.createEvent("HTMLEvents");e=e.replace(r,o),s.initEvent(e,"removed"===e||"inserted"===e?!1:!0,!0),i&&a(s,i),t.dispatchEvent(s)}:function(t,e,r){var o="on"+e,s=!1;try{var u=document.createEventObject();("inserted"===e||"removed"===e)&&(u.cancelBubble=!0),a(u,r),t.fireEvent(o,u)}catch(l){var c=a({type:e,target:t,faux:!0,_stopper:function(){s=this.cancelBubble}},r);if(i(t[o])&&t[o](c),"inserted"===e||"removed"===e)return;for(;!s&&t!==n.doc&&t.parentNode;)t=t.parentNode,i(t[o])&&t[o](c)}},n._trigger=function(t,i,r){"string"!=typeof i&&(r=i,i=r.type,delete r.type);var o=n.byId(t),a=i&&"on"===i.slice(0,2)?i.slice(2):i;e(o,a,r)},n.trigger=function(t,e){return i(t)||i(e)||i(t[e])?n.hitch.apply(n,arguments)():n._trigger.apply(n,arguments)},n.NodeList.prototype.trigger=n.NodeList._adaptAsForEach(n._trigger),n._Node&&!n._Node.prototype.trigger&&n.extend(n._Node,{trigger:function(t,e){return n._trigger(this,t,e),this}}),n.trigger}),require(["dojo","dojo/query","plugd/trigger","dojo/NodeList-dom"]),t.trim=function(t){return t&&dojo.trim(t)},t.makeArray=function(t){var e=[];return dojo.forEach(t,function(t){e.push(t)}),e},t.isArray=dojo.isArray,t.inArray=function(t,e,n){return dojo.indexOf(e,t,n)},t.map=function(e,n){return dojo.map(t.makeArray(e||[]),n)},t.extend=function(e){if(e===!0){var n=t.makeArray(arguments);return n.shift(),dojo.mixin.apply(dojo,n)}return dojo.mixin.apply(dojo,arguments)},t.isEmptyObject=function(t){var e;for(e in t)break;return void 0===e},t.param=function(e){var n=[],i=function(t,e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))};for(var r in e)t.buildParam(r,e[r],i);return n.join("&").replace(/%20/g,"+")},t.buildParam=function(e,n,i){if(t.isArray(n))for(var r=0,o=n.length;o>r;++r)i(e+"[]",n[r]);else if(dojo.isObject(n))for(var a in n)t.buildParam(e+"["+a+"]",n[a],i);else i(e,n)},t.proxy=function(t,e){return dojo.hitch(e,t)},t.isFunction=function(t){return dojo.isFunction(t)};var i=0,r=function(e,n,r){e.forEach(function(e){e=new dojo.NodeList("SELECT"===e.nodeName?[e]:e);var o=t.data(e,"events");o||t.data(e,"events",o={}),o[n]||(o[n]={}),void 0===r.__bindingsIds&&(r.__bindingsIds=i++),o[n][r.__bindingsIds]=e.on(n,r)[0]})},o=function(e,n,i){e.forEach(function(e){var r=new dojo.NodeList(e),o=t.data(r,"events");if(o){var a=o[n];if(a){var s=a[i.__bindingsIds];dojo.disconnect(s),delete a[i.__bindingsIds],t.isEmptyObject(a)&&delete o[n]}}})};t.bind=function(e,n){return this.bind&&this.bind!==t.bind?this.bind(e,n):this.on||this.nodeType?r(new dojo.NodeList("SELECT"===this.nodeName?[this]:this),e,n):this.addEvent?this.addEvent(e,n):t.addEvent.call(this,e,n),this},t.unbind=function(e,n){return this.unbind&&this.unbind!==t.unbind?this.unbind(e,n):this.on||this.nodeType?o(new dojo.NodeList(this),e,n):t.removeEvent.call(this,e,n),this},t.on=t.bind,t.off=t.unbind,t.trigger=function(e,n,i,r){if(e instanceof dojo.NodeList||!e.nodeName&&e!==window||(e=t.$(e)),e.trigger)if(r===!1){if(!e[0]||3===e[0].nodeType)return;var o=e.on(n,function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t._stopper&&t._stopper(),dojo.disconnect(o)});e.trigger(n,i)}else e.trigger(n,i);else"string"==typeof n&&(n={type:n}),n.target=n.target||e,t.dispatch.call(e,n,i)},t.delegate=function(t,e,n){return this.on||this.nodeType?r(new dojo.NodeList(this),t+":"+e,n):this.delegate&&this.delegate(t,e,n),this},t.undelegate=function(t,e,n){return this.on||this.nodeType?o(new dojo.NodeList(this),t+":"+e,n):this.undelegate&&this.undelegate(t,e,n),this};var a=function(t,e){for(var n in t)e[n]="function"==typeof e[n]?function(){t[n].apply(t,arguments)}:n[t]};t.ajax=function(e){var n=t.capitalize((e.type||"get").toLowerCase()),i=dojo["xhr"+n],r=e.success,o=e.error,s=new t.Deferred,u=i({url:e.url,handleAs:e.dataType,sync:!e.async,headers:e.headers,content:e.data});u.then(function(t){a(l,s),s.resolve(t,"success",l),r&&r(t,"success",l)},function(){a(l,s),s.reject(l,"error"),o(l,"error")});var l=u.ioArgs.xhr;return a(l,s),s},t.$=function(t){return t===window?window:"string"==typeof t?dojo.query(t):new dojo.NodeList(t)},t.append=function(t,e){return t.forEach(function(t){dojo.place(e,t)})};var s={},u=t.uuid=+new Date,l=t.expando="can"+u,c=function(e){for(var n=[],i=0,r=e.length;r>i;i++)1===e[i].nodeType&&n.push(e[i]);t.trigger(new dojo.NodeList(n),"removed",[],!1),i=0;for(var o;void 0!==(o=e[i]);i++){var a=o[l];delete s[a]}};t.data=function(t,i,r){return void 0===r?0===t.length?void 0:e(t[0],i):t.forEach(function(t){n(t,i,r)})},dojo.empty=function(t){for(var e;e=t.lastChild;)dojo.destroy(e)};var d=dojo.destroy;dojo.destroy=function(e){e=dojo.byId(e);var n=[e];return e.getElementsByTagName&&n.concat(t.makeArray(e.getElementsByTagName("*"))),c(n),d.apply(dojo,arguments)};var f=dojo.place;return dojo.place=function(e,n,i){"string"==typeof e&&/^\s*</.test(e)&&(e=t.buildFragment(e));var r;r=11===e.nodeType?t.makeArray(e.childNodes):[e];var o=f.call(this,e,n,i);return t.inserted(r),o},t.addClass=function(t,e){return t.addClass(e)},t.remove=function(e){var n=[];return e.forEach(function(e){n.push(e),e.getElementsByTagName&&n.push.apply(n,t.makeArray(e.getElementsByTagName("*")))}),c(n),e.forEach(d),e},t.get=function(t,e){return t[e]},t.has=function(t,e){return dojo.isDescendant(e,t[0])?t:[]},t.extend(dojo.Deferred.prototype,{pipe:function(t,e){var n=new dojo.Deferred;return this.addCallback(function(){n.resolve(t.apply(this,arguments))}),this.addErrback(function(){e?n.reject(e.apply(this,arguments)):n.reject.apply(n,arguments)}),n}}),t});